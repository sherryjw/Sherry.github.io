---
title: LeetCode-42 æ¥é›¨æ°´
tags: ç®—æ³•
---

### **ğŸ“é¢˜ç›®**
```haskell
ç»™å®šÂ n ä¸ªéè´Ÿæ•´æ•°è¡¨ç¤ºæ¯ä¸ªå®½åº¦ä¸º 1 çš„æŸ±å­çš„é«˜åº¦å›¾ï¼Œè®¡ç®—æŒ‰æ­¤æ’åˆ—çš„æŸ±å­ï¼Œä¸‹é›¨ä¹‹åèƒ½æ¥å¤šå°‘é›¨æ°´ã€‚

ç¤ºä¾‹:

è¾“å…¥: [0,1,0,2,1,0,1,3,2,1,2,1]
è¾“å‡º: 6
```

![](https://cdn.jsdelivr.net/gh/sherryjw/StaticResource@latest/image/42.png)
<br/>

### **ğŸ“æ€è·¯**
æƒ³æ³•ä¸€ï¼šå¯¹äºæ¯ä¸€åˆ—ï¼Œæ‰¾åˆ°è¯¥åˆ—å·¦è¾¹æœ€é«˜çš„å¢™å’Œå³è¾¹æœ€é«˜çš„å¢™ï¼Œæ ¹æ®æœ¨æ¡¶æ•ˆåº”ï¼Œå–çŸ®çš„é‚£é¢å¢™ä¸è¯¥åˆ—æ¯”è¾ƒï¼Œè‹¥é«˜äºè¯¥åˆ—ï¼Œåˆ™è¯¥åˆ—å¯è“„æ°´ã€‚ä¸ºé¿å…é‡å¤è®¡ç®—å·¦å³æœ€é«˜å¢™é«˜åº¦ï¼Œé‡‡ç”¨åŠ¨æ€è§„åˆ’æ€æƒ³è®°å¿†åŒ–å­˜å‚¨ã€‚<br/>
æƒ³æ³•äºŒï¼šåœ¨éå†æ•°ç»„æ—¶ç»´æŠ¤ä¸€ä¸ªæ ˆã€‚å¦‚æœå½“å‰çš„æ¡å½¢å—å°äºæˆ–ç­‰äºæ ˆé¡¶çš„æ¡å½¢å—ï¼Œåˆ™å°†æ¡å½¢å—çš„ç´¢å¼•å…¥æ ˆï¼Œæ„æ€æ˜¯å½“å‰çš„æ¡å½¢å—è¢«æ ˆä¸­çš„å‰ä¸€ä¸ªæ¡å½¢å—ç•Œå®šã€‚å¦‚æœä¸€ä¸ªæ¡å½¢å—é•¿äºæ ˆé¡¶ï¼Œå¯ä»¥ç¡®å®šæ ˆé¡¶çš„æ¡å½¢å—è¢«å½“å‰æ¡å½¢å—å’Œæ ˆçš„å‰ä¸€ä¸ªæ¡å½¢å—ç•Œå®šï¼Œå› æ­¤å¼¹å‡ºæ ˆé¡¶å…ƒç´ å¹¶ä¸”ç´¯åŠ ã€‚<br/>
ç®—æ³•è¯¦ç»†è¿‡ç¨‹ï¼š
- ä½¿ç”¨æ ˆæ¥å­˜å‚¨æ¡å½¢å—çš„ç´¢å¼•ä¸‹æ ‡ã€‚
- éå†æ•°ç»„ï¼š
  - å½“æ ˆéç©ºä¸”height[current] > height[st.top()]
    - æ„å‘³ç€æ ˆä¸­å…ƒç´ å¯ä»¥è¢«å¼¹å‡ºã€‚å¼¹å‡ºæ ˆé¡¶å…ƒç´ topã€‚
    - è®¡ç®—å½“å‰å…ƒç´ å’Œæ ˆé¡¶å…ƒç´ çš„è·ç¦»ï¼Œå‡†å¤‡è¿›è¡Œå¡«å……æ“ä½œ: distance = currentâˆ’st.top()âˆ’1
    - æ‰¾å‡ºç•Œå®šé«˜åº¦bounded_height = min(height[current], height[st.top()])
    - ç´¯åŠ 
  - å°†å½“å‰ç´¢å¼•ä¸‹æ ‡å…¥æ ˆ
  - å°† current ç§»åŠ¨åˆ°ä¸‹ä¸ªä½ç½®

ğŸ£ï¼šçœ‹åˆ°é¢˜è§£å‰çš„ä¹±ä¸ƒå…«ç³Ÿçš„æ€è·¯çœŸæ˜¯ç–¯ç‹‚ï¼Œç–¯ç‹‚WAï¼Œç–¯ç‹‚ä¿®æ”¹ï¼Œè„†è´¥ğŸ™‡â€â™€ï¸
<br/><br/>

### **ğŸ“é¢˜è§£**
```haskell
//æƒ³æ³•ä¸€

int trap(vector<int>& height) {
    int len = height.size();
    if (len < 3)    return 0;
    int max_left[len], max_right[len];
    max_left[0] = height[0];
    max_right[len-1] = height[len-1];
    for (int i = 1; i < len-1; ++i)
        max_left[i] = max(max_left[i-1], height[i-1]);
    
    for (int i = len-2; i >= 0; --i)
        max_right[i] = max(max_right[i+1], height[i+1]);

    int result = 0;
    for (int i = 1; i < len-1; ++i){
        int min_height = min(max_left[i], max_right[i]);
        if (height[i] < min_height) result = result+min_height-height[i];
    }
    return result;
}
```
```haskell
//æƒ³æ³•äºŒ

int trap(vector<int>& height) {        
    int len = height.size();
    int result = 0, current = 0;
    stack<int> index;
    while (current < len){
        while (!index.empty() && height[current]>height[index.top()]){
            int tmp_h = height[index.top()];
            index.pop();
            if (index.empty())  break;
            int distance = current-index.top()-1;
            int min_h = min(height[current], height[index.top()]);
            result += distance*(min_h-tmp_h);
        }
        index.push(current);
        ++current;
    }
    return result;
}
```